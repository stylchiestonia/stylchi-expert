{"ast":null,"code":"import _classCallCheck from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/mahnoorfatima/Documents/admin/src/views/Login.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"actions/authActions\";\nimport { Link } from \"react-router-dom\";\nimport NotificationAlert from \"react-notification-alert\";\nimport { Button, Card, CardImg, CardBody, Input, FormGroup, Row, Col } from \"reactstrap\";\nimport bg from \"assets/img/flower-back.png\";\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.onChange = function (e) {\n      _this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    _this.handleLogin = function () {\n      var userData = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      _this.setState({\n        isSubmitting: true\n      });\n\n      _this.props.loginUser(userData).then(function (res) {\n        _this.setState({\n          isSubmitting: false\n        });\n      }).catch(function (error) {\n        _this.setState({\n          isSubmitting: false\n        });\n\n        _this.notify('tr');\n      });\n    };\n\n    _this.notify = function (place) {\n      var options = {};\n      options = {\n        place: place,\n        message: /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }\n        }, \"Error: \", _this.state.errors.data)),\n        type: 'warning',\n        icon: \"tim-icons icon-bell-55\",\n        autoDismiss: 7\n      };\n\n      _this.refs.notificationAlert.notificationAlert(options);\n    };\n\n    _this.state = {\n      isSubmitting: false,\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // If logged in and user navigates to Login page, should redirect them to dashboard\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push(\"/admin/settings\");\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.auth.isAuthenticated) {\n        this.props.history.push(\"/admin/settings\");\n      }\n\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-notification-alert-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(NotificationAlert, {\n        ref: \"notificationAlert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        md: \"5\",\n        className: \"p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardImg, {\n        width: \"100%\",\n        className: \"background-tint\",\n        src: require(\"assets/img/theme/auth.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        md: \"7\",\n        className: \"p-0 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"h-100 mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        style: {\n          backgroundImage: \"url(\".concat(bg, \")\"),\n          backgroundPosition: \"right top\",\n          backgroundRepeat: \"no-repeat\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        className: \"mt-4 p-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"\",\n        src: require(\"assets/img/theme/logo-footer.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        onChange: this.onChange,\n        value: this.state.email,\n        id: \"email\",\n        type: \"email\",\n        placeholder: \"Enter your email address\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Enter your password\",\n        onChange: this.onChange,\n        value: this.state.password,\n        id: \"password\",\n        type: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 23\n        }\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 19\n        }\n      }, !this.state.isSubmitting && /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-block\",\n        color: \"success\",\n        type: \"button\",\n        size: \"lg\",\n        onClick: function onClick() {\n          _this2.handleLogin();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 51\n        }\n      }, \"Login\"), this.state.isSubmitting && /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-block\",\n        disabled: true,\n        color: \"success\",\n        type: \"button\",\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 48\n        }\n      }, \"Login\"))), /*#__PURE__*/React.createElement(Row, {\n        className: \"top-margin-row-high\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }), \"Don't have account?\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Link, {\n        className: \"link-text\",\n        to: \"/auth/register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 58\n        }\n      }, \"Sign Up\")))))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginUser\n})(Login);","map":{"version":3,"sources":["/Users/mahnoorfatima/Documents/admin/src/views/Login.js"],"names":["React","PropTypes","connect","loginUser","Link","NotificationAlert","Button","Card","CardImg","CardBody","Input","FormGroup","Row","Col","bg","Login","props","onChange","e","setState","target","id","value","handleLogin","userData","email","state","password","isSubmitting","then","res","catch","error","notify","place","options","message","errors","data","type","icon","autoDismiss","refs","notificationAlert","auth","isAuthenticated","history","push","nextProps","require","backgroundImage","backgroundPosition","backgroundRepeat","Component","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"actions/authActions\";\nimport { Link } from \"react-router-dom\";\nimport NotificationAlert from \"react-notification-alert\";\n\nimport {\n  Button,\n  Card,\n  CardImg,\n  CardBody,\n  Input,\n  FormGroup,\n  Row,\n  Col\n} from \"reactstrap\";\nimport bg from \"assets/img/flower-back.png\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSubmitting: false,\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/admin/settings\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/admin/settings\");\n    }\n\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n     \n    }\n  }\n\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n\n  handleLogin = () => {\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    this.setState({\n      isSubmitting: true\n    });\n    this.props.loginUser(userData).then(res => {\n      this.setState({\n        isSubmitting: false\n      });\n  }\n).catch(error => {\n  this.setState({\n    isSubmitting: false\n  });\n  this.notify('tr')\n  })\n  };\n  notify = place => {\n    var options = {};\n    options = {\n      place: place,\n      message: (\n        <div>\n          <div>\n           Error: {this.state.errors.data}\n          </div>\n        </div>\n      ),\n      type: 'warning',\n      icon: \"tim-icons icon-bell-55\",\n      autoDismiss: 7\n    };\n    this.refs.notificationAlert.notificationAlert(options);\n  };\n  render() {\n    return (\n      <>\n        <Row>\n        <div className=\"react-notification-alert-container\">\n            <NotificationAlert ref=\"notificationAlert\" />\n          </div>\n          <Col md='5' className='p-0'>\n            <Card className='mb-0'>\n              <CardImg width=\"100%\" className='background-tint' src={require(\"assets/img/theme/auth.png\")}>\n              </CardImg>\n            </Card>\n          </Col>\n          <Col md='7' className='p-0 '>\n            <Card className='h-100 mb-0'>\n            <div className=\"content\"\n          style={{\n            backgroundImage: `url(${bg})`,\n            backgroundPosition: \"right top\",\n            backgroundRepeat: \"no-repeat\",\n          }}>\n              <CardBody className='mt-4 p-4'>\n                <Row>\n                  <Col md=\"8\">\n                  <img alt=\"\" src={require(\"assets/img/theme/logo-footer.png\")} />\n                  </Col>\n                </Row>\n                <Row>\n                  <Col md=\"8\">\n                    <FormGroup>\n                      <Input\n                        onChange={this.onChange}\n                        value={this.state.email}\n                        id=\"email\"\n                        type=\"email\"\n                        placeholder=\"Enter your email address\"\n                      />\n                    </FormGroup>\n                    <FormGroup>\n                      <Input\n                        placeholder=\"Enter your password\"\n                        onChange={this.onChange}\n                        value={this.state.password}\n                        id=\"password\"\n                        type=\"password\"\n                      />\n                    </FormGroup>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col md='4'>\n                    { !this.state.isSubmitting && <Button className=\"btn-block\"\n                      color=\"success\"\n                      type=\"button\"\n                      size=\"lg\"\n                      onClick={() => {\n                        this.handleLogin();\n                      }}\n                    >\n                      Login\n                  </Button>}\n                  { this.state.isSubmitting && <Button className=\"btn-block\"\n                  disabled\n                      color=\"success\"\n                      type=\"button\"\n                      size=\"lg\"\n                    >\n                      Login\n                  </Button>}\n                  </Col>\n                </Row>\n                  <Row className=\"top-margin-row-high\">\n                   \n                    <Col md=\"8\">\n                    <hr/>\n                    Don't have account?&nbsp;&nbsp;&nbsp;<Link className=\"link-text\" to=\"/auth/register\">Sign Up</Link>\n                    </Col>\n                  </Row>\n              </CardBody>\n            </div>\n            \n            </Card>\n          </Col>\n        </Row>\n\n      </>\n    );\n  }\n}\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);"]},"metadata":{},"sourceType":"module"}