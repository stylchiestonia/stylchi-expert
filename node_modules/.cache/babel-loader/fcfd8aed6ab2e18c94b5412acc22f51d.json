{"ast":null,"code":"import _classCallCheck from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/mahnoorfatima/Documents/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/mahnoorfatima/Documents/admin/src/views/Bookings.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getBookings, updateBooking } from \"actions/bookingActions\"; // reactstrap components\n\nimport { Card, CardBody, Row, Col, Table, ButtonGroup, Button, Modal, ModalBody } from \"reactstrap\";\n\nvar Bookings = /*#__PURE__*/function (_React$Component) {\n  _inherits(Bookings, _React$Component);\n\n  var _super = _createSuper(Bookings);\n\n  function Bookings(props) {\n    var _this;\n\n    _classCallCheck(this, Bookings);\n\n    _this = _super.call(this, props);\n\n    _this.toggleModal = function (state) {\n      _this.setState({\n        [state]: !_this.state[state]\n      });\n    };\n\n    _this.acceptBooking = function (booking) {\n      booking.status = 'upcoming';\n      var bookingData = {\n        expert_id: \"5f89b74c785a191b10dab1ac\",\n        booking: booking\n      };\n\n      _this.props.updateBooking(bookingData);\n    };\n\n    _this.endBooking = function (booking) {\n      booking.status = 'past';\n      var bookingData = {\n        expert_id: \"5f89b74c785a191b10dab1ac\",\n        booking: booking,\n        status: 'upcoming'\n      };\n      console.log('-------here');\n\n      _this.props.updateBooking(bookingData);\n    };\n\n    _this.RejectBooking = function (booking) {// booking.status = 'past';\n      // const bookingData = {\n      //   expert_id: \"5f89b74c785a191b10dab1ac\",\n      //   booking: booking\n      // }\n      // this.props.updateBooking(bookingData)\n    };\n\n    _this.state = {\n      current_view: \"pending\"\n    };\n    return _this;\n  }\n\n  _createClass(Bookings, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var bookingData = {\n        expert_id: \"5f89b74c785a191b10dab1ac\",\n        status: 'pending'\n      };\n      this.props.getBookings(bookingData);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        current_view: nextProps.bookings.status\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var loading = !this.props.bookings.loading;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, this.state.current_view ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 16\n        }\n      }, this.state.current_view, \" Bookings\")) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 22\n        }\n      }, \"Pending Bookings\")), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }\n      }, \"Booking ID\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }\n      }, \"Customer\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, \"Time\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }\n      }, \"Services\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      }, \"Customer Address\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }\n      }, \"Instructions\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, \"Payment\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }\n      }, \"  \", loading && this.state.current_view !== 'past' && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 107\n        }\n      }, \"Action\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, loading && this.props.bookings.payload.map(function (booking) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: booking._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 55\n          }\n        }, booking._id, /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 71\n          }\n        }), /*#__PURE__*/React.createElement(\"b\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 80\n          }\n        }, booking.location))), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 56\n          }\n        }, booking.customerName)), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 56\n          }\n        }, booking.date, /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 73\n          }\n        }), booking.time)), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 27\n          }\n        }, booking.services.map(function (service) {\n          return /*#__PURE__*/React.createElement(\"p\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 31\n            }\n          }, \" \", service, \" \", \"\");\n        })), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center w-5\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 59\n          }\n        }, booking.customerAddress)), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center w-5\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 59\n          }\n        }, booking.instructions)), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 55\n          }\n        }, booking.payment, /*#__PURE__*/React.createElement(\"br\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 75\n          }\n        }), \"\\u20AC\", booking.billingAmount)), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"text-center\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 27\n          }\n        }, booking.status === 'pending' && /*#__PURE__*/React.createElement(ButtonGroup, {\n          className: \"btn-group-vertical\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          style: {\n            marginBottom: \"10px\"\n          },\n          color: \"success\",\n          onClick: function onClick() {\n            _this2.acceptBooking(booking);\n          },\n          size: \"md\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 33\n          }\n        }, \"Accept\"), \" \", \" \", /*#__PURE__*/React.createElement(Button, {\n          color: \"warning\",\n          size: \"md\",\n          onClick: function onClick() {\n            return _this2.toggleModal(\"notificationModal\");\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 33\n          }\n        }, \"Reject\")), booking.status === 'upcoming' && booking.status !== 'past' && /*#__PURE__*/React.createElement(Button, {\n          style: {\n            marginBottom: \"10px\"\n          },\n          color: \"default\",\n          size: \"md\",\n          onClick: function onClick() {\n            return _this2.endBooking(booking);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 31\n          }\n        }, \"Complete\")));\n      }))))))), /*#__PURE__*/React.createElement(Modal, {\n        className: \"modal-dialog-centered modal-danger\",\n        contentClassName: \"bg-gradient-danger\",\n        isOpen: this.state.notificationModal,\n        toggle: function toggle() {\n          return _this2.toggleModal(\"notificationModal\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"modal-title\",\n        id: \"modal-title-notification\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }\n      }, \"Your attention is required\"), /*#__PURE__*/React.createElement(\"button\", {\n        \"aria-label\": \"Close\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.toggleModal(\"notificationModal\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 19\n        }\n      }, \"\\xD7\"))), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }\n      }))));\n    }\n  }]);\n\n  return Bookings;\n}(React.Component);\n\nfunction mapStateToProp(state) {\n  return {\n    bookings: state.bookings,\n    view: state.view\n  };\n}\n\nexport default connect(mapStateToProp, {\n  getBookings,\n  updateBooking\n})(Bookings);","map":{"version":3,"sources":["/Users/mahnoorfatima/Documents/admin/src/views/Bookings.js"],"names":["React","connect","getBookings","updateBooking","Card","CardBody","Row","Col","Table","ButtonGroup","Button","Modal","ModalBody","Bookings","props","toggleModal","state","setState","acceptBooking","booking","status","bookingData","expert_id","endBooking","console","log","RejectBooking","current_view","nextProps","bookings","loading","payload","map","_id","location","customerName","date","time","services","service","customerAddress","instructions","payment","billingAmount","marginBottom","notificationModal","Component","mapStateToProp","view"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getBookings, updateBooking } from \"actions/bookingActions\";\n// reactstrap components\nimport { Card, CardBody, Row, Col, Table, ButtonGroup, Button, Modal, ModalBody } from \"reactstrap\";\n\nclass Bookings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current_view: \"pending\"\n    };\n  }\n\n  componentDidMount() {\n    const bookingData = {\n      expert_id: \"5f89b74c785a191b10dab1ac\",\n      status: 'pending'\n    };\n   \n    this.props.getBookings(bookingData);\n   \n  }\n  toggleModal = state => {\n    this.setState({\n      [state]: !this.state[state]\n    });\n  };\n  acceptBooking = (booking) => {\n    booking.status = 'upcoming';\n    const bookingData = {\n      expert_id: \"5f89b74c785a191b10dab1ac\",\n      booking: booking\n    }\n    this.props.updateBooking(bookingData);\n  }\n  endBooking = (booking) => {\n    booking.status = 'past';\n    const bookingData = {\n      expert_id: \"5f89b74c785a191b10dab1ac\",\n      booking: booking,\n      status: 'upcoming'\n    }\n    console.log('-------here')\n    this.props.updateBooking(bookingData)\n  }\n  RejectBooking = (booking) => {\n    // booking.status = 'past';\n    // const bookingData = {\n    //   expert_id: \"5f89b74c785a191b10dab1ac\",\n    //   booking: booking\n    // }\n    // this.props.updateBooking(bookingData)\n  }\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      current_view: nextProps.bookings.status,\n        })\n  };\n  render() {\n    const loading = !this.props.bookings.loading;\n    return (\n      <>\n        <div className=\"content\">\n          {(this.state.current_view) ? ( \n          <div><h1>{this.state.current_view} Bookings</h1></div>\n              ) : (\n                <div><h1>Pending Bookings</h1></div>\n              )}\n\n          <Row>\n            <Col>\n              <Card>\n                <CardBody>\n                  <Table responsive>\n                    <thead>\n                      <tr>\n                        <th className=\"text-center\">Booking ID</th>\n                        <th className=\"text-center\">Customer</th>\n                        <th className=\"text-center\">Time</th>\n                        <th className=\"text-center\">Services</th>\n                        <th className=\"text-center\">Customer Address</th>\n                        <th className=\"text-center\">Instructions</th>\n                        <th className=\"text-center\">Payment</th>\n                        <th className=\"text-center\">  {(loading && this.state.current_view !== 'past') && <div>Action</div>}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {loading && (this.props.bookings.payload.map(booking => (\n                        <tr key={booking._id}>\n                          <td className=\"text-center\"><p>{booking._id}<br></br><b>{booking.location}</b></p></td>\n                          <td className=\"text-center \"><p>{booking.customerName}</p></td>\n                          <td className=\"text-center \"><p>{booking.date}<br />{booking.time}</p></td>\n                          <td className=\"text-center\">\n                            {booking.services.map(service => (\n                              <p> {service} {``}</p>\n                            ))\n                            }\n                          </td>\n                          <td className=\"text-center w-5\"><p>{booking.customerAddress}</p></td>\n                          <td className=\"text-center w-5\"><p>{booking.instructions}</p></td>\n                          <td className=\"text-center\"><p>{booking.payment}<br />€{booking.billingAmount}</p></td>\n                          <td className=\"text-center\">\n                            {(booking.status === 'pending') &&\n                              <ButtonGroup className=\"btn-group-vertical\">\n                                <Button style={{ marginBottom: \"10px\" }} color=\"success\" onClick={() => {\n                                  this.acceptBooking(booking);\n                                }} size=\"md\">Accept\n                                  </Button> {` `}\n                                <Button color=\"warning\" size=\"md\" onClick={() => this.toggleModal(\"notificationModal\")}>Reject \n                                  </Button>\n                              </ButtonGroup>}\n                            {((booking.status  === 'upcoming' && booking.status !== 'past')) &&\n                              <Button style={{ marginBottom: \"10px\" }} color=\"default\" size=\"md\" onClick={() => this.endBooking(booking)}>Complete\n                                  </Button>\n                            }\n                          </td>\n                        </tr>\n                      )\n                      ))}\n                    </tbody>\n                  </Table>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n          <Modal\n              className=\"modal-dialog-centered modal-danger\"\n              contentClassName=\"bg-gradient-danger\"\n              isOpen={this.state.notificationModal}\n              toggle={() => this.toggleModal(\"notificationModal\")}\n            >\n              <div className=\"modal-header\">\n                <h6 className=\"modal-title\" id=\"modal-title-notification\">\n                  Your attention is required\n                </h6>\n                <button\n                  aria-label=\"Close\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  type=\"button\"\n                  onClick={() => this.toggleModal(\"notificationModal\")}\n                >\n                  <span aria-hidden={true}>×</span>\n                </button>\n              </div>\n              <ModalBody >\n              </ModalBody>\n            </Modal>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProp(state) {\n  return {\n    bookings: state.bookings,\n    view: state.view\n  }\n}\nexport default connect(\n  mapStateToProp,\n  { getBookings, updateBooking }\n)(Bookings);\n"]},"metadata":{},"sourceType":"module"}